---
title: "p8105_hw1_bl3175"   
output: github_document                  
---

```{r setup, include=FALSE}
# Load required packages and set knitr chunk options
library(tidyverse)
library(moderndive)
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
data("early_january_weather")
glimpse(early_january_weather)
```

## Problem 1 

**Dataset description (with inline R)**  
This dataset has **`r nrow(early_january_weather)`** rows and **`r ncol(early_january_weather)`** columns.  
Variable names include: `r paste(names(early_january_weather), collapse = ", ")`.  
The mean temperature is **`r round(mean(early_january_weather$temp, na.rm = TRUE), 1)`** °F.  
The `time_hour` variable is of class **`r class(early_january_weather$time_hour)[1]`** (hourly timestamps).  
Humidity (`humid`) ranges from **`r round(min(early_january_weather$humid, na.rm = TRUE), 2)`** to **`r round(max(early_january_weather$humid, na.rm = TRUE), 2)`**.

## Scatterplot of temp vs time_hour (colored by humidity)

```{r fig.width=7, fig.height=4}
# Build the scatterplot and store it in object `p`
p <- ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point(alpha = 0.6) +
  labs(
    title = "Temperature vs Time (colored by humidity)",
    x = "Time (hourly)",
    y = "Temperature (°F)",
    color = "Humidity"
  ) +
  theme_minimal()

# Print the plot
p
```

## Export the plot to the project directory

```{r}
# Create a folder to keep figures

if (!dir.exists("figs")) dir.create("figs")

# Save the plot 
ggsave("figs/temp_vs_time.png", plot = p, width = 7, height = 4, dpi = 300)
```

## Problem 2

```{r error=TRUE}
# Set seed for reproducibility
set.seed(123)

# Create data frame with required variables
toy_df <- data.frame(
  num = rnorm(10),                                   # numeric sample
  logic = rnorm(10) > 0,                             # logical (TRUE/FALSE)
  char = letters[1:10],                              # character vector
  fac = factor(rep(c("A","B","C"), length.out = 10)) # factor with 3 levels
)

# Check the structure of the data frame
str(toy_df)

# Try to compute mean of each variable
mean(toy_df$num)       # works
mean(toy_df$logic)     # works (TRUE=1, FALSE=0)
mean(toy_df$char)      # error
mean(toy_df$fac)       # error

# Convert variables to numeric
as.numeric(toy_df$logic)  # TRUE/FALSE → 1/0
as.numeric(toy_df$char)   # gives NA (cannot convert letters to numbers)
as.numeric(toy_df$fac)    # factor levels → 1,2,3
```

Answer:
The mean works for numeric and logical variables, but not for character or factor variables. Logical values are stored as TRUE and FALSE, which act like 1 and 0 when taking the mean. Character values cannot turn into numbers, so the mean gives NA. Factor values have numbers inside, but these only show the order of levels and do not have real meaning. This is why coercion sometimes works, but the result is not always useful.